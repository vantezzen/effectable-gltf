---
title: API Reference
description: Complete API reference for effectable-gltf
nav: 4
---

# API Reference

## Components

### EffectableGltf

The main component that extends `@react-three/drei`'s `Gltf` component with effects support.

```tsx
import { EffectableGltf } from "@vantezzen/effectable-gltf";
```

#### Props

| Prop         | Type   | Default  | Description                                           |
| ------------ | ------ | -------- | ----------------------------------------------------- |
| src          | string | required | Path to the glTF model                                |
| ...GltfProps | object | -        | All props from `@react-three/drei`'s `Gltf` component |

#### Children

- Effects components (Overlay, Outline, or custom effects)

### Effect

Base component for creating custom effects.

```tsx
import { Effect } from "@vantezzen/effectable-gltf";
```

#### Props

| Prop           | Type           | Default | Description                             |
| -------------- | -------------- | ------- | --------------------------------------- |
| material       | THREE.Material | -       | Three.js material to apply to the model |
| postProcessing | Effect         | -       | Post-processing effect to apply         |

## Built-in Effects

### Overlay

Adds a color overlay to the model.

```tsx
import { Overlay } from "@vantezzen/effectable-gltf";
```

#### Props

| Prop    | Type   | Default | Description                                |
| ------- | ------ | ------- | ------------------------------------------ |
| color   | string | 'red'   | Color of the overlay (any valid CSS color) |
| opacity | number | 0.5     | Opacity of the overlay (0-1)               |

### Outline

Adds a cartoon-style outline to the model.

```tsx
import { Outline } from "@vantezzen/effectable-gltf";
```

#### Props

| Prop      | Type   | Default | Description              |
| --------- | ------ | ------- | ------------------------ |
| color     | string | 'black' | Color of the outline     |
| thickness | number | 0.01    | Thickness of the outline |
| opacity   | number | 1       | Opacity of the outline   |

## Types

### EffectProps

Base interface for effect props.

```tsx
interface EffectProps {
  material?: THREE.Material;
  postProcessing?: Effect;
}
```

### EffectableGltfProps

Props for the EffectableGltf component.

```tsx
interface EffectableGltfProps extends GltfProps {
  src: string;
}
```

## Hooks

### useEffectableGltf

Hook for accessing the effectable-gltf context.

```tsx
import { useEffectableGltf } from "@vantezzen/effectable-gltf";

function MyComponent() {
  const { model, effects } = useEffectableGltf();
  // ...
}
```

#### Returns

| Property | Type        | Description             |
| -------- | ----------- | ----------------------- |
| model    | THREE.Group | The loaded glTF model   |
| effects  | Effect[]    | Array of active effects |

## Utilities

### createEffect

Utility function for creating custom effects.

```tsx
import { createEffect } from "@vantezzen/effectable-gltf";

const MyEffect = createEffect((props) => {
  // Effect implementation
});
```

#### Parameters

| Parameter      | Type                          | Description                         |
| -------------- | ----------------------------- | ----------------------------------- |
| implementation | (props: P) => React.ReactNode | Function that implements the effect |

#### Returns

- React component that can be used as an effect

## Error Handling

The library provides error boundaries and error handling for common issues:

- Model loading failures
- Effect application errors
- Shader compilation errors

## Performance Considerations

### Memory Management

- Effects are automatically cleaned up when components unmount
- Materials are shared when possible
- Post-processing effects are properly disposed

### Optimization Tips

1. Use `useMemo` for material creation
2. Keep shader code optimized
3. Consider using shared materials
4. Monitor effect count and complexity

## Browser Support

The library supports all modern browsers that support WebGL 2.0:

- Chrome 56+
- Firefox 51+
- Safari 15+
- Edge 79+

## TypeScript Support

The library is written in TypeScript and provides full type definitions for:

- All components
- Props interfaces
- Utility functions
- Hooks
- Context types
